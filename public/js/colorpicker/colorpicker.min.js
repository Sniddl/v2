//---------------------------------
// Bootstrap 4 Color Picker
// Includes: Color.js by Enideo
// Author: Sniddl
// Repo: https://github.com/Sniddl/js
//---------------------------------
/*
 Copyright 2010 Enideo. Released under dual MIT and GPL licenses.
 Copyright (c) 2016 Sniddl. Relased under MIT license.
*/
!function(a){function b(b,c,e){if(c in b)return b[c](e);if("RGB"==c||"RGB"in d.convertModels[c]){"RGB"!=c&&(e=d.convertModels[c].RGB(e));for(var f in b)if("RGB"==f||f in d.convertModels.RGB)return"RGB"!=f&&(e=d.convertModels.RGB[f](e)),e=a.colors.formats.array3Octet1Normalized.fromModel.RGB(e),b[f](e)}throw"No valid conversion methods for this color model: "+c}function c(b,c){var d=a.colors.models[this.currentModel].parameterIndexes,e="RGB"==this.currentModel?this.format("array3Octet1Normalized"):this.color;if(!b)return e;if(b=b.toLowerCase(),!(b in d))throw"Parameter not in the current color model: "+b;return void 0===c?e[d[b]]:(this.color[d[b]]=c,this.color=a.colors.models[this.currentModel].sanitize(this.color),this)}var d=function(c,e,f){if(this instanceof d==!1)return new d(c,e,f);if(c&&c instanceof d)return c;if(this.currentModel=d.defaultModel,c){if("string"==typeof c&&(c=a.trim(c)),this.inputColor=c,e&&e in d.formats&&d.formats[e].validate(c)===!0)this.inputFormat=e;else{void 0===f&&(f=e);for(e in d.formats)if(d.formats[e].validate(c)===!0){this.inputFormat=e;break}}this.inputFormat&&(e=d.formats[e],this.inputModel=f||e.model||d.defaultInputModel,c=b(e.toModel,this.inputModel,c),this.inputModel!=this.currentModel&&(c=d.models[this.inputModel].sanitize(c),c=b(d.convertModels[this.inputModel],this.currentModel,c)),this.color=d.models[this.currentModel].sanitize(c))}else this.color=d.models[this.currentModel].sanitize();if(this.color)return this;throw"Color format unknown: "+c};d.fn=d.prototype={get:c,set:c,model:function(a){if(void 0===a)return this.currentModel;if(a==this.currentModel)return this;if(a in d.models)return this.color=b(d.convertModels[this.currentModel],a,this.color),this.currentModel=a,this;throw"Model does not exist"},format:function(a){var c="RGB"==this.currentModel&&"array3Octet1Normalized"!==a?this.format("array3Octet1Normalized"):this.color;if(a&&a in d.formats)return b(d.formats[a].fromModel,this.currentModel,c);throw"Format does not exist"},toString:function(a){a&&a in d.formats!=!1||(a=d.defaultString);try{return this.format(a).toString()}catch(a){return this.format(d.defaultString).toString()}},isFormat:function(a){if(a&&a in d.formats)return d.formats[a].validate(this.inputColor);throw"Format does not exist"}},d.formats={array3Octet:{validate:function(b,c){var d=0;if(c=c||3,a.isArray(b)&&b.length==c){for(;d<c&&("number"==typeof b[d]&&b[d]>=0&&d<3&&b[d]<=255&&/^\d+$/.test(b[d].toString())||3==d&&b[d]<=1);)d++;if(d==c)return!0}return!1},toModel:{RGB:function(a){return a.slice(0,3)}},fromModel:{RGB:function(a){return a.slice(0,3)}}},array3Octet1Normalized:{validate:function(a){return d.formats.array3Octet.validate(a,4)},toModel:{RGB:function(a){return a.slice(0,4)}},fromModel:{RGB:function(a){var b=0;for(a=a.slice(0,4);b<3;)a[b]=Math.round(a[b]),b++;return a}}},rgb:{validate:function(a,b){var d,c=1;if(a&&"string"==typeof a&&(d=/^rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)$/.exec(a))){for(;c<4&&(d[c]=parseInt(d[c]),d[c]<256);)c++;if(4==c)return!b||(d.shift(),d.slice(0))}return!1},fromModel:{RGB:function(a){return"rgb("+a[0]+","+a[1]+","+a[2]+")"}},toModel:{RGB:function(a){return a=d.formats.rgb.validate(a,!0),a===!1?null:a}},model:"RGB"}},d.models={RGB:{sanitize:function(b){var c;for(b&&a.isArray(b)||(b=[Math.floor(256*Math.random()),Math.floor(256*Math.random()),Math.floor(256*Math.random()),Math.random()]);b.length<4;)3==b.length?b.push(1):b.push(0);for(b=b.slice(0,4),c=0;c<b.length;c++)b[c]||(b[c]=0),c<3?(b[c]>255&&(b[c]=255),b[c]<0&&(b[c]=0)):3==c&&(b[c]=parseFloat(b[c]),b[c]>1&&(b[c]=1),b[c]<0&&(b[c]=0));return b},parameterIndexes:{r:0,g:1,b:2,a:3,red:0,green:1,blue:2,alpha:3}}},d.convertModels={},d.defaultInputModel=d.defaultModel="RGB",d.defaultString="rgb",void 0===a.colors&&a.extend({colors:d}),a.extend(a.colors.formats,{rgba:{validate:function(a,b){var d,c=1;if(a&&"string"==typeof a&&(d=/^rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*(0|1|0\.[0-9]+)\s*\)$/.exec(a))){for(;c<4&&(d[c]=parseInt(d[c]),d[c]<256);)c++;if(4==c&&d[4]>=0&&d[4]<=1&&(d[c]=parseFloat(d[c]),c++),5==c)return!b||(d.shift(),d.slice(0))}return!1},fromModel:{RGB:function(a){return"rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+")"}},toModel:{RGB:function(a){return a=d.formats.rgba.validate(a,!0),a===!1?null:a}},model:"RGB"}}),a.extend(a.colors.formats,{array3Normalized:{validate:function(b,c){var d=0;if(c=c||3,a.isArray(b)&&b.length==c){for(;d<c&&("number"==typeof b[d]&&b[d]<=1&&b[d]>=0);)d++;if(d==c)return!0}return!1},toModel:{RGB:function(a){return[255*a[0],255*a[1],255*a[2]]}},fromModel:{RGB:function(a){return[a[0]/255,a[1]/255,a[2]/255]}}},array4Normalized:{validate:function(a){return d.formats.array3Normalized.validate(a,4)},toModel:{RGB:function(a){return[255*a[0],255*a[1],255*a[2],a[3]]}},fromModel:{RGB:function(a){var b;a=a.slice(0);for(b in a)3!=b&&a[b]&&(a[b]+=1,a[b]/=256);return[a[0],a[1],a[2],a[3]]}}}});var e={hex:{validate:function(a,b){var c;if(a&&"string"==typeof a){if(c=/^#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/.exec(a))return!b||[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)];if(c=/^#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/.exec(a))return!b||[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}return!1},fromModel:{RGB:function(a){return"#"+(a[0]<16?"0":"")+a[0].toString(16)+(a[1]<16?"0":"")+a[1].toString(16)+(a[2]<16?"0":"")+a[2].toString(16)}},toModel:{RGB:function(a){return a=e.hex.validate(a,!0),a===!1?null:a}},model:"RGB"}};a.extend(a.colors.formats,e),a.extend(a.colors.formats,{transparent:{validate:function(a){return a&&"string"==typeof a&&/^transparent$/i.test(a)},fromModel:{RGB:function(a){if(0==a[3])return"transparent";throw"Color is not transparent: "+a.toString()}},toModel:{RGB:function(){return[255,255,255,0]}}}});var f={name:{list:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},validate:function(a){return!(!a||"string"!=typeof a||0==/^\w+$/.test(a))&&(a=a.toLowerCase(),a in this.list)},fromModel:{RGB:function(a){var b;a=a.slice(0,3).toString();for(b in f.name.list)if(f.name.list[b].toString()==a)return b;throw"No name corresponds to the color: "+a.toString()}},toModel:{RGB:function(a){return a=a.toLowerCase(),f.name.list[a]}}}};a.extend(a.colors.formats,f),a.colors.fn.mixWith=function(b,c){var f,g,h,i,e=0;if("number"==typeof c&&(i=c),f=this.get(),h=this.model(),a.isArray(b))try{g=d(b)}catch(a){for(e=0;e<b.length;e++)b[e]instanceof d==0&&(b[e]=d(b[e])),g=0==e?b[e].model(h):g.mixWith(b[e],e/(e+1))}else b instanceof d==0&&(b=d(b)),g=b;for(g=g.model(h).get(),f=f.slice(0),g=g.slice(0),void 0==i&&(i=e?1/(e+1):.5),e=0;e<f.length;e++){if("cycleMixes"in d.models[h]&&d.models[h].cycleMixes[e])if(d.models[h].cycleMixes[e]>0)for(;f[e]>g[e];)g[e]+=d.models[h].cycleMixes[e];else for(;f[e]<g[e];)g[e]+=d.models[h].cycleMixes[e];f[e]=f[e]*i+g[e]*(1-i)}return f=d.models[h].sanitize(f),a.extend(a.colors(),{color:f,currentModel:h})},a.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(b,c){a.fx.step[c]=function(b){var d;b.colorInit||(b.colorInit=!0,b.start=a.colors(a(b.elem).visibleColor(c)),/^(|transparent)$/i.test(a.curCSS(b.elem,c))&&(b.start.model("RGB").set("alpha",0),d="RGB"),"transparent"==b.end?(b.middle=a.colors(a(b.elem).parent().visibleColor(c)),b.middle.model("RGB").set("alpha",0),d="RGB"):""==b.end?(a(b.elem).css(c,""),b.middle=a.colors(a(b.elem).css(c))):b.middle=a.colors(b.end),void 0!==b.options.mixModel&&(d=b.options.mixModel),void 0!==d&&(b.start.model(d),b.middle.model(d))),b.elem.style[c]=1!=b.pos?b.start.mixWith(b.middle,Math.max(Math.min(1-b.pos,1),0)).toString():b.end}}),jQuery.fn.visibleColor=function(b){var c,d=this.get(0);do{if(c=a.curCSS(d,b),""!=c&&"transparent"!=c)break;if(a.nodeName(d,"body")){c="transparent";break}b="backgroundColor"}while(d=d.parentNode);return c},a.extend(a.support,{rgba:/rgba/.test(a("<div/>").attr("style","background:#f00;background:rgba(0,0,0,0.5);").css("background-color")),hsl:/hsl/.test(a("<div/>").attr("style","background:#f00;background:hsl(0,0,0);").css("background-color")),hsla:/hsla/.test(a("<div/>").attr("style","background:#f00;background:hsla(0,0,0,0.5);").css("background-color"))}),"rgba"in a.support&&a.support.rgba&&(a.colors.defaultString="rgba");var g={HSL:{sanitize:function(b){var c;for(b&&a.isArray(b)||(b=[Math.floor(361*Math.random()),Math.floor(101*Math.random()),Math.floor(101*Math.random()),Math.random()]);b.length<4;)3==b.length?b.push(1):b.push(0);for(b=b.slice(0,4),c=0;c<b.length;c++)if(b[c]||(b[c]=0),b[c]=parseFloat(b[c]),0==c){for(;b[c]>360;)b[c]-=360;b[c]<0&&(b[c]+=360)}else if(c<3){for(;b[c]>100;)b[c]=100;b[c]<0&&(b[c]=0)}else 3==c&&(b[c]>1&&(b[c]=1),b[c]<0&&(b[c]=0));return b},parameterIndexes:{h:0,s:1,l:2,a:3,hue:0,saturation:1,lightness:2,alpha:3},cycleMixes:[360,0,0,0],reverseCylce:function(a){this.cycleMixes[this.parameterIndexes[a]]*=-1}}},h={array1Circle2Percentage:{validate:function(b,c){var d=0;if(c=c||3,a.isArray(b)&&b.length==c){for(;d<c&&("number"==typeof b[d]&&b[d]>=0&&(0==d&&b[d]<=360||(1==d||2==d)&&b[d]<=100||3==d&&b[d]<=1));)d++;if(d==c)return!0}return!1},toModel:{HSL:function(a){return a.slice(0,3)}},fromModel:{HSL:function(a){return a.slice(0,3)}}},array1Circle2Percentage1Normalized:{validate:function(a){return h.array1Circle2Percentage.validate(a,4)},toModel:{HSL:function(a){return a.slice(0,4)}},fromModel:{HSL:function(a){return a.slice(0,4)}}}};a.extend(!0,a.colors.convertModels,{RGB:{HSL:function(a){var b=a[0]/255,c=a[1]/255,d=a[2]/255,e=Math.max(b,c,d),f=Math.min(b,c,d),g=e-f,h=(e+f)/2;return e==f?b=f=0:(f=h>.5?g/(2-e-f):g/(e+f),b=e==b?(c-d)/g+(c<d?6:0):e==c?(d-b)/g+2:(b-c)/g+4,b/=6),[360*b,100*f,100*h,a[3]]}},HSL:{RGB:function(a){function b(a,b,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?a+6*(b-a)*c:c<.5?b:c<2/3?a+(b-a)*(2/3-c)*6:a}var c,d,e,f,g;return e=a[0]/360,d=a[1]/100,c=a[2]/100,0==d?c=d=e=c:(f=c<.5?c*(1+d):c+d-c*d,g=2*c-f,c=b(g,f,e+1/3),d=b(g,f,e),e=b(g,f,e-1/3)),[255*c,255*d,255*e,a[3]]}}}),a.extend(a.colors.models,g),a.extend(a.colors.formats,h),a.extend(a.colors.formats,{hsl:{validate:function(a,b){var d,c=1;if(a&&"string"==typeof a&&(d=/^hsl\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})%\s*,\s*([0-9]{1,3})%\s*\)$/.exec(a))){for(;c<4&&(d[c]=parseInt(d[c]),0==c&&d[c]<=360||c>0&&d[c]<=100);)c++;if(4==c)return!b||(d.shift(),d.slice(0))}return!1},fromModel:{HSL:function(a){return"hsl("+Math.round(a[0])+","+Math.round(a[1])+","+Math.round(a[2])+")"}},toModel:{HSL:function(b){return b=a.colors.formats.hsl.validate(b,!0),b===!1?null:b}},model:"HSL"}}),a.extend(a.colors.formats,{hsla:{validate:function(a,b){var d,c=1;if(a&&"string"==typeof a&&(d=/^hsla\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})%\s*,\s*([0-9]{1,3})%\s*,\s*(0|1|0\.[0-9]+)\s*\)$/.exec(a))){for(;c<4&&(d[c]=parseInt(d[c]),0==c&&d[c]<=360||c>0&&d[c]<=100);)c++;if(4==c&&d[4]>=0&&d[4]<=1&&(d[c]=parseFloat(d[c]),c++),5==c)return!b||d.slice(1)}return!1},fromModel:{HSL:function(a){return"hsla("+Math.round(a[0])+","+Math.round(a[1])+","+Math.round(a[2])+","+a[3]+")"}},toModel:{HSL:function(b){return b=a.colors.formats.hsla.validate(b,!0),b===!1?null:b}},model:"HSL"}}),a.extend(!0,a.colors.formats,{array3Normalized:{toModel:{HSL:function(a){return[360*a[0],100*a[1],100*a[2]]}},fromModel:{HSL:function(a){return[a[0]/360,a[1]/100,a[2]/100]}}},array4Normalized:{toModel:{HSL:function(a){return[Math.round(360*a[0]),100*a[1],100*a[2],a[3]]}},fromModel:{HSL:function(a){return[a[0]/360,a[1]/100,a[2]/100,a[3]]}}}})}(jQuery);var h,s,grd,well,h_ctx,input,s_ctx,current_color,colorpicker_wrapper,hex=function(a){if("number"==typeof a){var b=a.toString(16);return a<=15?"0"+b:b}throw"Cannot convert type of non-integer."};hslToRgb=function(a,b,c){b/=100,c/=100;var d,e,f,g=(1-Math.abs(2*c-1))*b,h=g*(1-Math.abs(a/60%2-1)),i=c-g/2;if(0<=a&&a<60||360==a)d=255*(g+i),e=255*(h+i),f=255*(0+i);else if(60<=a&&a<120)d=255*(h+i),e=255*(g+i),f=255*(0+i);else if(120<=a&&a<180)d=255*(0+i),e=255*(g+i),f=255*(h+i);else if(180<=a&&a<240)d=255*(0+i),e=255*(h+i),f=255*(g+i);else if(240<=a&&a<300)d=255*(h+i),e=255*(0+i),f=255*(g+i);else{if(!(300<=a&&a<360))return"Invalid value for hue. Hue must me greater than 0 and less than 360.";d=255*(g+i),e=255*(0+i),f=255*(h+i)}return d=hex(Math.round(d)),e=hex(Math.round(e)),f=hex(Math.round(f)),"#"+d+e+f},create_shades=function(a){s=document.getElementById("shade"),s_ctx=s.getContext("2d"),grd=s_ctx.createLinearGradient(0,0,300,0),grd.addColorStop(0,"hsla(0, 0%, 100%, 1)"),grd.addColorStop(1,"hsla("+a+", 100%, 50%, 1)"),s_ctx.fillStyle=grd,s_ctx.fillRect(0,0,300,300),grd=s_ctx.createLinearGradient(0,300,0,0),grd.addColorStop(0,"hsla(0, 0%, 0%, 1)"),grd.addColorStop(1,"hsla(0, 0%, 0%, 0)"),s_ctx.fillStyle=grd,s_ctx.fillRect(0,0,300,300)},create_hue_bar=function(){h=document.getElementById("hue"),h_ctx=h.getContext("2d"),grd=h_ctx.createLinearGradient(0,300,0,0);var a=0,b=1/360,c=1/360;grd.addColorStop(0,"hsla("+a+", 100%, 50%, 1)");for(var a=1;a<360;a++)grd.addColorStop(b,"hsla("+a+", 100%, 50%, 1)"),b+=c;h_ctx.fillStyle=grd,h_ctx.fillRect(0,0,300,300)},getColor=function(a){mouseX=a.pageX-169,mouseY=a.pageY-60,$(".pointer").css({top:mouseY-3,left:mouseX-4}).show(),console.log(mouseX,mouseY);var b=s_ctx.getImageData(mouseX,mouseY,1,1),c=b.data;return c[0]+","+c[1]+","+c[2]+","+c[3],current_color="#"+hex(c[0])+hex(c[1])+hex(c[2])},$(document).ready(function(){$("head").append("<style media='screen'>div#hue_selector::after{content: ''; display: block; height: 20px; width: 40px; background: url('/js/colorpicker/slider_bar.png'); top: -8px; position: absolute; background-size: cover;}#shade-wrapper-track{content: ''; width: calc(100% + 6px); height: calc(100% + 6px); background: rgba(102, 51, 153, 0.5); display: block; position: absolute; top: -6px; left: -6px;}.pointer{background: url('/js/colorpicker/pointer-set.png'); background-size: cover; width:10px; height:10px; position:absolute;}.color-well{background: white; display: block; height: 30px; width: 100px; border: 1px solid #aaa; border-radius: 5px; text-align: center; line-height: 28px; font-family: monospace;}button.btn.btn-color{background: #9462ce; height: 100%; position: absolute; width: 60px; top: 0; right: 0; border-radius: 0; z-index: 100; box-shadow: inset 0 0px 7px rgba(0, 0, 0, 0.52);}.input-group .colorpicker_wrapper{position: absolute; background: white; z-index: 10000; border: 1px solid #aaa; border-radius: 5px; right: 0px; top: 40px;}.input-group .colorpicker_wrapper:before{content: ' '; position: absolute; width: 0; height: 0; top: -28px; right: 4px; border: 14px solid; border-color: transparent transparent #aaa transparent;}.input-group .colorpicker_wrapper:after{content: ' '; position: absolute; width: 0; height: 0; top: -25px; right: 5px; border: 13px solid; border-color: transparent transparent white transparent;}#hueholder{display:inline-block; position: relative;}#hue_selector{position: absolute; top: 0; width: 100%; height: 1px;}.line{position: absolute; top: 50%; width: 100%; height: 2px; background: black; padding: 1px 0px;}#shade-wrapper{display: inline-block; position:relative}</style>"),$(".btn-color").click(function(){if(colorpicker_wrapper=$(this).siblings(".colorpicker_wrapper"),well=$(this),input=$(this).siblings("input"),colorpicker_wrapper.length)colorpicker_wrapper.remove();else{$(this).parent().append('<div class="colorpicker_wrapper" style="padding: 20px;"> <div id="shade-wrapper"> <div class="shade-wrapper-track"></div><div class="pointer"></div><canvas id="shade" width="300" height="300" style="border: 1px solid black"> <p> Error: Browser not supported. Try Chrome. </p></canvas> </div><div style="margin-left:10px" id="hueholder" > <canvas id="hue" width="20" height="300" style="border: 1px solid black;"> <p> Error: Browser not supported. Try Chrome. </p></canvas> <div class="" id="hue_selector"> <div class="line"> </div></div></div></div>'),create_shades(0),create_hue_bar(),$("#hue_selector").draggable({containment:"parent",drag:function(){var a=$("#hue_selector").position().top,b=$("#hue").height(),c=360/b;if(a<b)var d=360-a*c;else var d=360;var e=$.colors(current_color).model("HSL").get();e[0]=d,create_shades(d),current_color=hslToRgb(e[0],e[1],e[2]),input.val(current_color),well.css("background-color",current_color)}});var a=!1;$("#shade-wrapper").mousedown(function(b){a=!0,input.val(getColor(b)),well.css("background-color",getColor(b))}),$("#shade-wrapper").mouseup(function(){a=!1}),$("#shade-wrapper").mousemove(function(b){a?($("#shade-wrapper").css("cursor","none"),input.val(getColor(b)),well.css("background-color",getColor(b))):$("#shade-wrapper").css("cursor","url(/js/colorpicker/pointer.png),auto")})}})});
